<script type="text/javascript" src="../scripts/ajax.js"></script>
<script>
    <!--
    function resetInput() {
        location.href = "data_shift_type.php";
    }//resetInput
    function resetInput2() {
        document.formInput2.dataDays.value = "7";
        genShift(7);
        document.formInput2.dataDays.focus();
    }//resetInput2
    // fungsi untuk menyiapkan data diedit
    function editData(index) {
        if (index != "") {
            document.formInput.dataCode.value = eval("document.formData.detailCode" + index + ".value");
            document.formInput.dataStart.value = eval("document.formData.detailStart" + index + ".value");
            document.formInput.dataFinish.value = eval("document.formData.detailFinish" + index + ".value");
            document.formInput.dataAddOT.value = eval("document.formData.detailAdditionalOT" + index + ".value");
            //document.formInput.dataBreak.value = eval("document.formData.detailBreak" + index + ".value");
            document.formInput.dataNote.value = eval("document.formData.detailNote" + index + ".value");
            document.formInput.dataShiftAllowance.value = eval("document.formData.detailShiftAllowance" + index + ".value");

            bolChecked = (eval("document.formData.detailShiftOff" + index + ".value") == 't');
            document.formInput.dataStart.disabled = bolChecked;
            document.formInput.dataFinish.disabled = bolChecked;
            document.formInput.dataShiftOff.checked = bolChecked;
            if (bolChecked) {
                document.formInput.dataShiftOff.parentNode.className = 'checked';
            } else {
                document.formInput.dataShiftOff.parentNode.className = '';
            }
            bolChecked = (eval("document.formData.detailIsShift" + index + ".value") == 't');
            document.formInput.dataIsShift.checked = bolChecked;
            if (bolChecked) {
                document.formInput.dataIsShift.parentNode.className = 'checked';
            } else {
                document.formInput.dataIsShift.parentNode.className = '';
            }
            bolChecked = (eval("document.formData.detailShiftOverNight" + index + ".value") != '0');
            document.formInput.dataShiftOverNight.checked = bolChecked;
            if (bolChecked) {
                document.formInput.dataShiftOverNight.parentNode.className = 'checked';
            } else {
                document.formInput.dataShiftOverNight.parentNode.className = '';
            }
            document.formInput.dataID.value = eval("document.formData.chkID" + index + ".value");
            document.formInput.dataCode.focus();
            document.formInput.dataCode.select();
        }
    }//editData
    function restoreData(str) {
        document.formInput.dataAllowanceStaff.value = eval("document.formData.detailAllowanceStaff" + index + ".value");
        document.formInput.dataAllowanceMagang.value = eval("document.formData.detailAllowanceMagang" + index + ".value");
    }


    // fungsi untuk otomatis mengisi/menyesuaikan box konfigurasi roster
    function writeDefault(obj, val) {
        if (obj.value == "") {
            obj.value = val;
            obj.style.color = "grey";
        }
        else {
            obj.value = obj.value.toUpperCase();
        }
    }//writeDefault

    // fungsi untuk mengisi/menyesuaikan box konfigurasi roster
    function clearThis(obj) {
        if (obj.style.color != "black") {
            obj.value = "";
            obj.style.color = "black";
        }
    }//clearThis

    // fungsi untuk generate text box sebanyak jumlah hari
    function genShift(numDays) {
        if (numDays > 100) numDays = 100;
        strShift = "";
        for (i = 1; i <= numDays; i++) {
            strShift = strShift + "<input class=\"form-control-sized\" style='color:grey' value='" + i + "' id='shift_" + i + "' type='text' name='shift_" + i + "' size=4 onFocus='clearThis(this)' onBlur='writeDefault(this," + i + ")' >";
        }
        document.getElementById("shifts").innerHTML = strShift;
    } //genShift


    // fungsi untuk disable field2 yang
    function setOff(offVal) {
        /* Modify for additional overtime, leave dataStart and dataFinish enable */
        /* document.formInput.dataStart.value = "00:00";
         document.formInput.dataStart.disabled = offVal;
         document.formInput.dataFinish.value =  "00:00";
         document.formInput.dataFinish.disabled = offVal;*/
    } //setOff

    //fungsi untuk memeriksa apakah input valid
    function validInput() {
        if (document.formInput.dataCode.value == "") {
            alert("Empty Code");
            document.formInput.dataCode.value
            return false;
        }
        if (document.formInput.dataAddOT.value == "") {
            alert("Empty Additional OT");
            document.formInput.dataAddOT.value
            return false;
        }
        if (document.formInput.dataShiftAllowance.value == "") {
            alert("Empty Shift Allowance");
            document.formInput.dataShiftAllowance.value
            return false;
        }
        return true;
    }//validInput

    // fungsi untuk menngecek atau menguncheck checkbox
    function checkAll() {
        var intData = document.formData.totalData.value;
        var isChecked = document.formData.chkAll.checked;

        for (i = 1; i <= intData; i++) {
            if (isChecked) {
                eval("document.formData.chkID" + i + ".checked = true");
                document.getElementById("chkID" + i).parentNode.className = 'checked';
            } else {
                eval("document.formData.chkID" + i + ".checked = false");
                document.getElementById("chkID" + i).parentNode.className = '';
            }
        } //for

    }//checkAll
    // fungsi untuk mengecek atau menguncheck checkbox
    function checkAll2() {
        var intData = document.formData2.totalData2.value;
        var isChecked = document.formData2.chkAll2.checked;

        for (i = 1; i <= intData; i++) {
            if (isChecked) {
                eval("document.formData2.chkID2" + i + ".checked = true");
                document.getElementById("chkID2" + i).parentNode.className = 'checked';
            }
            else {
                eval("document.formData2.chkID2" + i + ".checked = false");
                document.getElementById("chkID2" + i).parentNode.className = '';
            }
        }
    }//checkAll2
    // fungsi untuk minta konfirmasi delete
    function confirmDelete() {
        return confirm("[var.strConfirmDelete]");
    } //confirmDelete

    // fungsi untuk inisialisasi
    function initPage_() {
        document.formInput.dataCode.focus();
        genShift(7)
    }//initPage
    -->
</script>
[var.pageHeader]
<div class="main-content">
    <div class="row">
        <div class="col-md-12">
            [var.pageSubMenu]
            <p></p>
        </div>
        <div class="col-md-12">
            <div class="col-md-8">
                <div class="panel">
                    <div class="panel-heading">
                        <div class="panel-actions">
                            <div class="pull-right" id="collapse-filter">
                                <a href="#"
                                   data-toggle="collapse"
                                   data-target="#input1-panel"><i class="fa fa-chevron-circle-down bigger-130"></i></a>
                            </div>
                        </div>
                        <h3 class="panel-title">[var.strWordsINPUTDATA]</h3>
                    </div>
                    <div id="input1-panel" class="panel-body collapse in">
                        <form action=""
                              method="post"
                              name="formInput"
                              id="formInput"
                              onSubmit="return validInput();"
                              class="form-horizontal"
                              role="form">
                            <div class="col-md-6">
                                <div class="form-group has-error">
                                    <label class="col-sm-4 control-label" for="dataCode">[var.strWordsShiftCode]</label>

                                    <div class="col-sm-8">
                                        <input class="form-control"
                                               name="dataCode"
                                               type="text"
                                               id="dataCode"
                                               maxlength="20"
                                               required="true">
                                    </div>
                                </div>
                                <div class="form-group has-error">
                                    <label class="col-sm-4 control-label"
                                           for="dataStart">[var.strWordsStartTime]</label>

                                    <div class="col-sm-4">
                                        <input class="form-control"
                                               name="dataStart"
                                               type="text"
                                               id="dataStart"
                                               value="00:00"
                                               maxlength="5"
                                               required="true">
                                    </div>
                                    <div class="col-sm-4">
                                        (hh:mm)
                                    </div>
                                </div>
                                <div class="form-group has-error">
                                    <label class="col-sm-4 control-label"
                                           for="dataFinish">[var.strWordsFinishTime]</label>

                                    <div class="col-sm-4">
                                        <input class="form-control"
                                               name="dataFinish"
                                               type="text"
                                               id="dataFinish"
                                               value="00:00"
                                               maxlength="5"
                                               required="true">
                                    </div>
                                    <div class="col-sm-4">
                                        (hh:mm)
                                    </div>
                                </div>
                                <div class="form-group has-error">
                                    <label class="col-sm-4 control-label"
                                           for="dataAddOT">[var.strWordsAddOvertime]</label>

                                    <div class="col-sm-4">
                                        <input class="form-control"
                                               name="dataAddOT"
                                               type="text"
                                               id="dataAddOT"
                                               maxlength="5"
                                               required="true">
                                    </div>
                                    <div class="col-sm-4">
                                        [var.strWordsInMinutes]
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-sm-4 control-label" for="dataShift">[var.strWordsShift]</label>

                                    <div class="col-sm-8">
                                        <div class="checkbox">
                                            <label>
                                                <input class="checkbox-inline"
                                                       name="dataIsShift"
                                                       type="checkBox"
                                                       id="dataShift"
                                                       checked ">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 control-label" for="dataShiftOff">[var.strWordsOff]</label>

                                    <div class="col-sm-8">
                                        <div class="checkbox">
                                            <label>
                                                <input class="checkbox-inline"
                                                       name="dataShiftOff"
                                                       type="checkBox"
                                                       id="dataShiftOff"
                                                       onClick="setOff(this.checked)">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 control-label"
                                           for="dataNote">[var.strWordsOverNight]</label>

                                    <div class="col-sm-8">
                                        <div class="checkbox">
                                            <label>
                                                <input class="checkbox-inline"
                                                       name="dataShiftOverNight"
                                                       type="checkBox"
                                                       id="dataShiftOverNight"
                                                       onClick="setOff(this.checked)">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 control-label" for="dataNote">[var.strWordsNote]</label>

                                    <div class="col-sm-8">
                                        <input class="form-control"
                                               name="dataNote"
                                               type="text"
                                               id="dataNote"
                                               maxlength="50">
                                    </div>
                                </div>
                                <div class="form-group has-error">
                                    <label class="col-sm-4 control-label" for="dataShiftAllowance">[var.strWordsShiftAllowance]</label>

                                    <div class="col-sm-8">
                                        <input class="form-control"
                                               name="dataShiftAllowance"
                                               type="text"
                                               id="dataShiftAllowance"
                                               maxlength="50"
                                               required="true">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 form-actions">
                                <input class="btn btn-primary btn-small"
                                       name="btnSave"
                                       type="submit"
                                       id="btnSave"
                                       value="[var.strWordsSave]">
                                <input class="btn btn-success btn-small"
                                       name="btnNew"
                                       type="button"
                                       id="btnNew"
                                       value="[var.strWordsAddNew]"
                                       onClick="resetInput();">
                                <input name="dataID" type="hidden" id="dataID">
                                <input name="dataFlag" type="hidden" id="dataFlag" value=2>
                            </div>
                            <span class="requiredSmall"><span class="label label-danger">&nbsp;</span> required field</span>
                        </form>
                    </div>
                </div>
                <div class="panel">
                    <div class="panel-heading">
                        <div class="panel-actions">
                            <div class="pull-right" id="collapse-filter">
                                <a href="#"
                                   data-toggle="collapse"
                                   data-target="#list1-panel"><i class="fa fa-chevron-circle-down bigger-130"></i></a>
                            </div>
                        </div>
                        <h3 class="panel-title">[var.strWordsLISTOFSHIFTTYPE]</h3>
                    </div>
                    <div id="list1-panel" class="panel-body collapse in">
                        <form action="" method="post" name="formData" id="formData">
                            <table width="100%"
                                   border="0"
                                   cellpadding="1"
                                   cellspacing="0"
                                   class="table table-striped table-hover table-bordered gridTable">
                                <thead>
                                <tr class="tableHeader">
                                    <th width="5">&nbsp;
                                    </td>
                                    <th nowrap class="tableHeader"> [var.strWordsCODE]</th>
                                    <th align="center" nowrap class="tableHeader">[var.strWordsSTARTTIME]</th>
                                    <th align="center" nowrap class="tableHeader">[var.strWordsFINISHTIME]</th>
                                    <th align="center" nowrap class="tableHeader">[var.strWordsAddOvertime]</th>
                                    <th align="center" nowrap class="tableHeader">[var.strWordsShift]</th>
                                    <th align="center" nowrap class="tableHeader">[var.strWordsOff]</th>
                                    <th align="center" nowrap class="tableHeader">[var.strWordsOverNight]</th>
                                    <th align="center" nowrap class="tableHeader">[var.strWordsNote]</th>
                                    <th align="center" nowrap class="tableHeader">[var.strWordsShiftAllowance]</th>
                                    <!-- <td nowrap class="tableHeader">NOTE</td> -->
                                    <th width="19">&nbsp;</th>
                                </tr>
                                </thead>
                                <tbody>
                                [var.strDataDetail]
                                <tr>
                                    <td>
                                        <div class="checkbox no-margin"><label><input class="checkbox-inline"
                                                                                      name="chkAll"
                                                                                      type="checkbox"
                                                                                      id="chkAll"
                                                                                      value="[var.strWordscheckbox]"
                                                                                      onClick="checkAll();"></label>
                                        </div>
                                    </td>
                                    <td class="left" colspan="10">
                                        <input class="btn btn-sm btn-danger"
                                               name="btnDelete"
                                               type="submit"
                                               id="btnDelete"
                                               value="[var.strWordsDelete]"
                                               onClick="return confirmDelete();">
                                        <input name="totalData" type="hidden" id="totalData" value="[var.intTotalData]">
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="panel">
                    <div class="panel-heading">
                        <div class="panel-actions">
                            <div class="pull-right" id="collapse-filter">
                                <a href="#"
                                   data-toggle="collapse"
                                   data-target="#input2-panel"><i class="fa fa-chevron-circle-down bigger-130"></i></a>
                            </div>
                        </div>
                        <h3 class="panel-title">[var.strWordsScheduleForm]</h3>
                    </div>
                    <div id="input2-panel" class="panel-body collapse in">
                        <form action=""
                              method="post"
                              name="formInput2"
                              id="formInput2"
                              onSubmit="return validInput2();"
                              class="form-horizontal"
                              role="form">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" for="dataDays">[var.strWordsDays]</label>

                                    <div class="col-sm-2">
                                        <input class="form-control"
                                               name="dataDays"
                                               type="text"
                                               value="7"
                                               type="numeric"
                                               id="dataDays"
                                               maxlength="3"
                                               onKeyup="genShift(this.value)"
                                               onFocus="clearThis(this)">
                                    </div>
                                    <div class="col-sm-12" id="shifts" name="shifts" style="margin-top: 10px;">

                                    </div>
                                </div>
                                <div class="col-md-12 form-actions">
                                    <input class="btn btn-sm btn-primary"
                                           name="btnSave2"
                                           type="submit"
                                           id="btnSave2"
                                           value="[var.strWordsSave]">
                                    <input class="btn btn-sm btn-success"
                                           name="btnNew2"
                                           type="button"
                                           id="btnNew2"
                                           value="[var.strWordsAddNew]"
                                           onClick="resetInput2();">
                                    <input name="dataID2" type="hidden" id="dataID2">
                                    <input name="dataFlag" type="hidden" id="dataFlag" value=2>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="panel">
                    <div class="panel-heading">
                        <div class="panel-actions">
                            <div class="pull-right" id="collapse-filter">
                                <a href="#"
                                   data-toggle="collapse"
                                   data-target="#list2-panel"><i class="fa fa-chevron-circle-down bigger-130"></i></a>
                            </div>
                        </div>
                        <h3 class="panel-title">[var.strWordsLISTOFSHIFTPATTERN]</h3>
                    </div>
                    <div id="list2-panel" class="panel-body collapse in">
                        <form action="" method="post" name="formData2" id="formData2">
                            <table width="100%"
                                   border="0"
                                   cellpadding="1"
                                   cellspacing="0"
                                   class="table table-striped table-hover table-bordered gridTable">
                                <thead>
                                <tr class="tableHeader">
                                    <th width="5%" nowrap>&nbsp;</th>
                                    <th class="tableHeader">[var.strWordsRoster]</th>
                                </tr>
                                </thead>
                                <tbody>
                                [var.strDataDetail2]
                                <tr>
                                    <td>
                                        <div class="checkbox no-margin"><label><input class="checkbox-inline"
                                                                                      name="chkAll2"
                                                                                      type="checkbox"
                                                                                      id="chkAll2"
                                                                                      value="[var.strWordscheckbox]"
                                                                                      onClick="checkAll2();"></label>
                                        </div>
                                    </td>
                                    <td class="left" colspan="2">
                                        <input class="btn btn-sm btn-danger"
                                               name="btnDelete2"
                                               type="submit"
                                               id="btnDelete2"
                                               value="[var.strWordsDelete]"
                                               onClick="return confirmDelete();">
                                        <input name="totalData2"
                                               type="hidden"
                                               id="totalData2"
                                               value="[var.intTotalData2]">
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>